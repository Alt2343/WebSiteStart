{% extends 'base.html' %}
{% load static %}

{% block content %}
<div style="max-width: 500px; margin: 0 auto; padding: 20px;">
    <h1 style="font-size: 24px; font-weight: 300; text-align: center; margin-bottom: 30px; letter-spacing: 1px;">ПОИСК ЗАКАЗА</h1>

    <div style="border: 1px solid #000; padding: 25px; margin-bottom: 30px;">
        <form method="post" style="display: flex; gap: 10px;">
            {% csrf_token %}
            <input type="text" name="order_number" placeholder="Номер заказа" value="{{ order_number }}"
                   style="flex: 1; padding: 12px; border: 1px solid #000; background: transparent; font-size: 14px; outline: none;">
            <button type="submit"
                    style="padding: 12px 20px; background: #000; color: #fff; border: 1px solid #000; font-size: 14px; font-weight: 500; cursor: pointer; text-transform: uppercase;">
                Найти
            </button>
        </form>
    </div>

    {% if order %}
        <div style="border: 1px solid #000; padding: 25px;">
            <h2 style="font-size: 18px; font-weight: 500; margin-top: 0; margin-bottom: 20px; text-transform: uppercase;">
                Заказ {{ order.order_number }}
            </h2>

            <div style="display: grid; gap: 15px;">
                <p style="margin: 0; font-size: 14px;">
                    <strong>Статус:</strong> {{ order.get_status_display }}
                </p>
                <p style="margin: 0; font-size: 14px;">
                    <strong>Имя:</strong> {{ order.first_name }} {{ order.last_name }}
                </p>
                <p style="margin: 0; font-size: 14px;">
                    <strong>Телефон:</strong> {{ order.phone }}
                </p>
                <p style="margin: 0; font-size: 14px;">
                    <strong>Способ доставки:</strong> {{ order.get_delivery_method_display }}
                </p>
            </div>

            {% if order.tracking_number %}
                <div style="border: 1px solid #000; padding: 15px; margin-top: 20px;">
                    <p style="margin: 0; font-size: 14px; font-weight: 500;">
                        Трек-номер: {{ order.tracking_number }}
                    </p>
                </div>
            {% endif %}
        </div>
    {% elif order_number %}
        <div style="border: 1px solid #000; padding: 20px; text-align: center;">
            <p style="margin: 0; font-size: 14px;">
                Заказ "{{ order_number }}" не найден
            </p>
        </div>
    {% endif %}
</div>
{% endblock %}